---
description: "計画の曖昧な点を構造化された質問で明確化する"
allowed-tools:
  - Write
  - Edit
  - Read
  - Grep
  - Glob
  - TodoRead
  - TodoWrite
  - AskUserQuestion
  - WebSearch
  - WebFetch
  - mcp__fetch__fetch
  - mcp__deepwiki__ask_question
  - mcp__deepwiki__read_wiki_contents
  - mcp__deepwiki__read_wiki_structure
  - mcp__google-search__web_search
---

AskUserQuestionツールを使用して、タスクのあらゆる点について詳細にインタビューしてください。

- プロダクト仕様
- 技術的詳細
- UI/UX
- エッジケース
- 依存関係
- 非機能要件

## タスク
<TASK>
$ARGUMENTS
</TASK>

## インタビューの進め方
以下のフェーズに従って進めてください：

1. 不明確な点を明らかにする
2. 意思決定のためにユーザーに質問する
3. 決定事項を計画に反映する
4. ユーザーに要約を提示する

すべての不明確な点が解消されるまで徹底的に深掘りを続け、その後仕様を計画ファイルに書き込んでください。
フェーズ3の後、計画ファイルを再確認・分析し、不明確な点があればフェーズ2に戻って質問を行ってください。

### フェーズ2: 質問の生成

<RULES>
- 質問数: **2〜4個**（曖昧さのレベルに応じて調整）
- 各質問には**2〜4個の具体的な選択肢**を用意
- 各選択肢には**メリット/デメリット**を簡潔に記載
- オープンエンドな質問は避ける
- 「その他」オプションは自動追加されるため含めない
</RULES>

### フェーズ3: 回答後の処理
ユーザーの回答を受け取った後、以下を出力する

<output_format>
ユーザーの回答を受け取った後、以下を出力する:

## 決定事項

| 項目 | 選択 | 理由 | 備考 |
|------|------|------|------|
| データ保存 | データベース | スケーラビリティの必要性 | マイグレーション戦略を検討 |

## 次のステップ

1. **最初のタスク**
   - 詳細...
2. **2番目のタスク**
   - 詳細...
</output_format>

---

## 重要事項

- **AskUserQuestionツールを必ず使用する**
  - 会話形式の質問ではなく
- 各選択肢には**メリット/デメリット**を含める
- multiSelectは控えめに使用（デフォルト: false）
